<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>
<HEAD>

  <TITLE>CS631 -- Advanced Programming in the UNIX Environment</TITLE>
  <STYLE type="text/css">
  body {
  background-color: #FFFFFf;
  }
  </STYLE>
  <STYLE type="text/css">
  li.c1 {list-style: none}
  </STYLE>

</HEAD>

<BODY>
  <TABLE border="1" align="center" cellpadding="15">
    <TR>
      <TD valign="top">
        <H2>CS631 -- Advanced Programming in the UNIX Environment - Fall 2011 - HW#5</H2>

        <H3>HW#5: patch ls(1) to add an option</H3>

        <H4>Summary</H4>
	<p>The objective of this assignment is for you to create a patch
        to add a new option to an existing tool.  In the process, you will
        learn to use <tt>cvs(1)</tt>, <tt>patch(1)</tt>, <tt>diff(1)</tt>
        and <tt>make</tt>.
	</p>
	<h4>Problem assignment</h4>
	<p>Modify the NetBSD <tt>ls(1)</tt> command to accept the
        "<tt>-O</tt>" flag as specified below:
        </p>
        <blockquote><verbatim>

-O      If combined with long (-l) output, print the optimal file I/O<br>
        blocksize right after printing the file size.

        </verbatim></blockquote>
        <p>
        To achieve this, you will retrieve the sources to NetBSD's
        <tt>ls(1)</tt> command via anonymous CVS access, make the
        appropriate changes and use the <tt>diff(1)</tt> utility to create
        a patch.
        </p>
       
	<h4>Deliverables and Due Date</H4>
        <p>Your homework submission will consist of a tar archive containing
        exactly two files: <tt>&lt;username&gt;/Makefile</tt> and
        <tt>&lt;username&gt;/patch</tt> (where "&lt;username&gt;" is of course
        your username).
        </p>
        <p>
        After extracting the archive, you can do the following:
<blockquote><verbatim>
cd &lt;username&gt;<br>
make fetch<br>
make patch<br>
make build<br>
</verbatim></blockquote>
        </p>
        <p>
        As a result, there will be a new binary 'ls' (&lt;username&gt;/ls/ls) that will
        support the given option.
        </p>
        <p>
        In other words, running 'make' will fetch the sources to NetBSD's ls(1)
        command via anonymous CVS access, apply the patch in the given directory
        and then build the binary.  As any useful Makefile, only the steps
        actually necessary will be performed.  That is, if the cvs sources
	are already present, they won't be fetched again; if the patch was
	already applied, running 'make' won't do this again etc.  Running
	'make' without any target will perform all the steps; running
	'make clean' will remove all files other than the Makefile and the
	patch.
	</p>
        <p>
        Your homework will be graded based on this functionality, not only the
        code changes you make.
        </p>
        <p>
        The due date for this assignment is 2010-12-12 10:00.  Please
        attach the file to an email sent from your <tt>@stevens.edu</tt>
        email address to <a
        href="mailto:jschauma@stevens.edu?subject=[CS631] HW5">jschauma@stevens.edu</a>
        with a subject of "[CS631] HW5".
        </p>
        <hr>
        [<a href="index.html">Course Website</a>]
</BODY>
</HTML>
